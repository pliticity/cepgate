<!-- HEADER -->

<ng-include src="'/partials/common/header.html'"></ng-include>

<!-- CONTENT -->

<div class="row">
    <div class="col-xs-10 col-xs-offset-1">
        <form id="form.domainForm" name="form.domainForm" class="form-horizontal">

            <div class="row">
                <div class="col-xs-7 col-xs-offset-1">
                    <div class="form-group">
                        <label for="name" class="col-xs-6 control-label">Name</label>
                        <div class="col-xs-6">
                            <input placeholder="Name" class="form-control" id="name"
                                   ng-model="domain.name" required=""/>
                        </div>
                    </div>
                </div>
                <div class="col-xs-3">
                    <div class="form-group">
                        <div class="checkbox">
                            <label>
                                <input id="active" ng-model="domain.active" type="checkbox" required=""> Active
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-3 col-xs-offset-1">
                    <div class="form-group">
                        <label for="name" class="col-xs-6 control-label"># Files</label>
                        <div class="col-xs-6">
                            <input placeholder="Name" class="form-control disabled" id="noOfFiles"
                                   ng-model="domain.noOfFiles" disabled ng-readonly="true"/>
                        </div>
                    </div>
                </div>

                <div class="col-xs-7">
                    <div class="form-group">
                        <label for="memory" class="col-xs-6 control-label">Memory used</label>
                        <div class="col-xs-6">
                            <div class="input-group">
                                <input placeholder="memory" class="form-control disabled" id="memory"
                                       ng-model="domain.memory" disabled ng-readonly="true"/>
                                <span class="input-group-addon">kB</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-3 col-xs-offset-1">
                    <div class="form-group">
                        <label for="creationDate" class="col-xs-6 control-label">Creation Date</label>
                        <div class="col-xs-6">
                            <input placeholder="Name" class="form-control disabled" id="creationDate"
                                   ng-model="domain.creationDate" disabled ng-readonly="true"/>
                        </div>
                    </div>
                </div>
            </div>

        </form>
    </div>
</div>

<div class="row">
    <div class="col-xs-6 col-xs-offset-3">

        <table class="table table-condensed table-hover" st-table="displayCollection" st-safe-src="domain.principals">
            <span us-spinner="{radius:30, width:8, length: 16}"></span>
            <thead>
            <tr>
                <th colspan="4"></th>
                <th class="text-right">
                    <button class="btn btn-primary btn-xs" data-toggle="modal"
                            data-target="#add-user-modal">Add user
                    </button>
                </th>
            </tr>
            <tr class="info">
                <th class="text-center">#</th>
                <th st-sort="email" class="text-center">Email</th>
                <th st-sort="creationDate" class="text-center">Creation Date</th>
                <th class="text-center">Active</th>
                <th st-sort="role" class="text-center">User Group</th>
                <!--<th class="text-center">Action</th>-->
            </tr>
            </thead>
            <tbody>
            <tr>
                <td colspan="5"><input st-search placeholder="Search" class="input-sm form-control" type="search"/>
                </td>
            </tr>
            <tr class="animate-row"
                ng-repeat="row in displayCollection" add-tab documentId="{{row.id}}" documntName="{{row.documentNumber}}">
                <td>{{$index+1}}</td>
                <td>{{row.email}}</td>
                <td class="text-center">{{row.creationDate}}</td>
                <td class="text-center"><input type="checkbox" ng-model="row.active" ng-change="changeActive(row)"/></td>
                <td>
                    <div ng-if="row.role != 'GLOBAL_ADMIN'">
                        <select name="role-{{row.id}}" class="form-control" class="form-control" ng-model="row.role"
                                id="role-{{row.id}}"
                                ng-change="changeRole(row)">
                            <option value="ADMIN">Admin</option>
                            <option value="USER">User</option>
                            <option value="DOCUMENT_CONTROL">Document Control</option>
                            <option value="SALES">Sales</option>
                            <option value="MANAGEMENT">Management</option>
                        </select>
                    </div>
                    <div ng-if="row.role == 'GLOBAL_ADMIN'">
                        <input value="Global Admin" disabled class="form-control"/>
                    </div>
                </td>
                <!--<td style="z-index: 100;">
                </td>-->
            </tr>
            </tbody>
            <tfoot>
            <tr>
                <td colspan="4"></td>
                <td colspan="1" class="text-right">
                    <label for="itemsPerPage">Items per page</label>
                    <input id="itemsPerPage" class="form-control input-sm" ng-model="itemsPerPage"/>
                </td>
            </tr>
            <tr>
                <td colspan="5" class="text-center">
                    <div st-pagination="" st-items-by-page="itemsPerPage" st-displayed-pages="3"></div>
                </td>
            </tr>
            </tfoot>
        </table>

    </div>
</div>
<div class="row">
    <div class="col-xs-2 col-xs-offset-10">
        <a href="admin#/" class="btn-info btn-xs">Back</a>
    </div>
</div>

<ng-include src="'/partials/domain/add-user-modal.html'"></ng-include>
